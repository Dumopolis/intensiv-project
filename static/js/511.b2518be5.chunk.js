"use strict";(self.webpackChunkuniverse=self.webpackChunkuniverse||[]).push([[511],{6788:function(e,t,r){r.r(t),r.d(t,{default:function(){return b}});var n=r(2791),i=r(7689),a=r(5048),o=r(9164),s=r(890),c=r(3066),u=r(3400),l=r(6151),f=r(7237),d=r(2666),v=r(1306),g=r(5802),h=r(9511),m=r(1246),x=r(5628),p=r(9643),Z=r(314),j=r(9701),y=r(8940),S=r(184);function b(){var e=(0,i.UO)().id,t=(0,v.KU)(e),r=t.data,b=t.isSuccess,w=t.isLoading,C=t.error,I=(0,Z.j)(e),N=I.setFavoriteFromLocalStorage,k=I.toggleToFavorites,O=I.iconState,F=(0,x.a)(),J=(0,a.I0)(),P=(0,p.N)((function(){return J((0,g.m4)({id:e,date:(new Date).toJSON()}))})),T=(0,n.useContext)(d.p).isTelegramShareEnabled;if((0,n.useEffect)((function(){P()}),[P]),(0,n.useEffect)((function(){(0,m.g)(F)}),[F]),(0,n.useEffect)((function(){N()}),[F]),b){var A=r.urlImg,E=r.title,L=r.description,H=r.date,U=r.keywords,B=r.creator,W=(0,h.p6)(H),Y=(0,h.oX)(L);return(0,S.jsxs)(o.Z,{sx:{marginTop:5,marginBottom:5},children:[(0,S.jsx)(s.Z,{variant:"h3",sx:{marginBottom:3},children:E}),(0,S.jsxs)(c.ZP,{container:!0,columnSpacing:5,children:[(0,S.jsx)(c.ZP,{item:!0,xs:7,children:(0,S.jsx)("img",{src:A,alt:E})}),(0,S.jsxs)(c.ZP,{container:!0,item:!0,xs:3,direction:"column",justifyContent:"space-between",children:[(0,S.jsxs)(c.ZP,{item:!0,children:[(0,S.jsx)(s.Z,{variant:"subtitle1",children:W}),(0,S.jsx)(s.Z,{variant:"subtitle1",children:B&&"Creator: "+B})]}),(0,S.jsxs)(c.ZP,{container:!0,direction:"row",justifyContent:"space-between",children:[(0,S.jsx)(u.Z,{"aria-label":"add to favorites",color:O,onClick:k,children:(0,S.jsx)(f.Z,{})}),T&&(0,S.jsx)(l.Z,{href:"https://t.me/share/url?url=https://images.nasa.gov/details/".concat(e),children:"Share on Telegram"})]})]}),(0,S.jsx)(c.ZP,{item:!0,xs:2,children:U&&U[0].split(" ").map((function(e){return(0,S.jsxs)(s.Z,{variant:"subtitle1",children:["\ud83d\udccc ",e]},e)}))}),(0,S.jsx)(c.ZP,{item:!0,paddingTop:3,children:(0,S.jsx)(s.Z,{variant:"p",children:Y})})]})]})}return C?(0,S.jsx)(y.Z,{error:C.error}):w?(0,S.jsx)(j.Z,{}):(0,S.jsx)(s.Z,{variant:"h2",textAlign:"center",padding:5,children:"We can`t get news. Try again later"})}},8940:function(e,t,r){r.d(t,{Z:function(){return s}});r(2791);var n=r(9164),i=r(890),a=r(9250),o=r(184);function s(e){var t=e.error;return(0,o.jsxs)(n.Z,{children:[(0,o.jsx)(i.Z,{variant:"h2",textAlign:"center",padding:5,children:"Sorry... we have problem :("}),(0,o.jsx)(i.Z,{variant:"body1",textAlign:"center",children:t}),(0,o.jsx)("img",{src:a,alt:"sorry",style:{display:"block",margin:"0 auto"}})]})}},7834:function(e,t,r){r.d(t,{a:function(){return i}});var n=r(5048);function i(){var e=(0,n.v9)((function(e){return e.user})).email;return{isAuth:Boolean(e),email:e}}},9643:function(e,t,r){r.d(t,{N:function(){return a}});var n=r(2791),i=r(763);function a(e,t){var r=function(e){var t=(0,n.useRef)();return(0,n.useLayoutEffect)((function(){t.current=e})),t}(e);return(0,n.useMemo)((function(){return(0,i.debounce)((function(){r.current.apply(r,arguments)}),t)}),[t,r])}},314:function(e,t,r){r.d(t,{j:function(){return d}});var n=r(3433),i=r(1413),a=r(9439),o=r(2791),s=r(5048),c=r(9614),u=r(5802),l=r(7834),f=r(5628);function d(e){var t=(0,o.useState)("default"),r=(0,a.Z)(t,2),d=r[0],v=r[1],g=(0,l.a)().isAuth,h=(0,f.a)().uid,m=(0,s.I0)();return{setFavoriteFromLocalStorage:function(){var t=(JSON.parse(localStorage.getItem(h))||{}).favorites,r=t&&t.find((function(t){return t===e}));v(r?"secondary":"default")},toggleToFavorites:function(){g?"default"===d?function(){v("secondary");var t=localStorage.getItem(h);if(t){var r=JSON.parse(t),a=(0,i.Z)((0,i.Z)({},r),{},{favorites:[].concat((0,n.Z)(r.favorites),[e])});m((0,u.av)(a)),localStorage.setItem(h,JSON.stringify(a))}else m((0,c.wp)({severity:"error",title:"Sorry... Unexpected error",text:"We are already working on this error. You need re-authenticate!"}))}():function(){v("default");var t=JSON.parse(localStorage.getItem(h)),r=t.favorites.filter((function(t){return t!==e})),n=(0,i.Z)((0,i.Z)({},t),{},{favorites:r});m((0,u.av)(n)),localStorage.setItem(h,JSON.stringify(n))}():m((0,c.wp)({severity:"info",title:"Sorry... You can`t use favorites",text:"If you want use favorites, you need authenticate or registration"}))},iconState:d}}},5628:function(e,t,r){r.d(t,{a:function(){return i}});var n=r(5048);function i(){var e=(0,n.v9)((function(e){return e.user}));return{uid:e.uid,email:e.email,favorites:e.favorites,openedCardHistory:e.openedCardHistory,searchHistory:e.searchHistory}}},1246:function(e,t,r){function n(e){localStorage.setItem(e.uid,JSON.stringify(e)),localStorage.setItem("currentUser",e.uid)}r.d(t,{g:function(){return n}})},7237:function(e,t,r){var n=r(4836);t.Z=void 0;var i=n(r(5649)),a=r(184),o=(0,i.default)((0,a.jsx)("path",{d:"m12 21.35-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"}),"Favorite");t.Z=o},9250:function(e,t,r){e.exports=r.p+"static/media/sorry.5805f1fd4f1697892de7.gif"}}]);
//# sourceMappingURL=511.b2518be5.chunk.js.map